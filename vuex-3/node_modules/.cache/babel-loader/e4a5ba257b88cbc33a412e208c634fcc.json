{"remainingRequest":"/home/harshit-pandey/Desktop/vuex-shopping/node_modules/babel-loader/lib/index.js!/home/harshit-pandey/Desktop/vuex-shopping/node_modules/eslint-loader/index.js??ref--13-0!/home/harshit-pandey/Desktop/vuex-shopping/src/store.js","dependencies":[{"path":"/home/harshit-pandey/Desktop/vuex-shopping/src/store.js","mtime":1550342744987},{"path":"/home/harshit-pandey/Desktop/vuex-shopping/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/harshit-pandey/Desktop/vuex-shopping/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/harshit-pandey/Desktop/vuex-shopping/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import _parseInt from \"/home/harshit-pandey/Desktop/vuex-shopping/node_modules/@babel/runtime-corejs2/core-js/parse-int\";\nimport \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/es7.array.includes\";\nimport \"core-js/modules/es6.string.includes\";\nimport \"core-js/modules/web.dom.iterable\";\nimport _objectSpread from \"/home/harshit-pandey/Desktop/vuex-shopping/node_modules/@babel/runtime-corejs2/helpers/esm/objectSpread\";\nimport \"core-js/modules/es6.array.find-index\";\nimport Vue from 'vue';\nimport Vuex from 'vuex';\nVue.use(Vuex);\nvar URI = 'https://c0rs.herokuapp.com/https://www.datakick.org/api/items';\nexport default new Vuex.Store({\n  state: {\n    cart: [],\n    products: []\n  },\n  mutations: {\n    addProduct: function addProduct(_ref, product) {\n      var products = _ref.products;\n      products.push(product);\n    },\n    addToCart: function addToCart(_ref2, product) {\n      var cart = _ref2.cart,\n          products = _ref2.products;\n      var itemIndex = cart.findIndex(function (item) {\n        return item.id === product.id;\n      });\n\n      if (itemIndex === -1) {\n        cart.push(_objectSpread({}, product, {\n          count: 1\n        }));\n      } else {\n        cart[itemIndex].count++;\n      }\n\n      product.remaining > 1 ? product.remaining-- : products.splice(products.indexOf(product), 1);\n    },\n    deductItemCount: function deductItemCount(_ref3, product) {\n      var cart = _ref3.cart;\n      var itemIndex = cart.findIndex(function (item) {\n        return item.id === product.id;\n      });\n      var productIndex = this.state.products.findIndex(function (item) {\n        return item.id === product.id;\n      });\n      this.state.products[productIndex].remaining++;\n      cart[itemIndex].count > 1 ? cart[itemIndex].count-- : cart.splice(itemIndex, 1);\n    },\n    removeItem: function removeItem(_ref4, product) {\n      var cart = _ref4.cart;\n      var itemIndex = cart.findIndex(function (item) {\n        return item.id === product.id;\n      });\n      var productIndex = this.state.products.findIndex(function (item) {\n        return item.id === product.id;\n      });\n      this.state.products[productIndex].remaining = 10;\n      cart.splice(itemIndex, 1);\n    },\n    clearCart: function clearCart(state) {\n      state.products.forEach(function (product) {\n        product.remaining = 10;\n      });\n      state.cart = [];\n    }\n  },\n  actions: {\n    fetchProducts: function fetchProducts(_ref5) {\n      var commit = _ref5.commit,\n          getters = _ref5.getters;\n      fetch(URI).then(function (res) {\n        return res.json();\n      }).then(function (data) {\n        //Get the last 50 fetchProducts\n        var products = data.slice(50);\n        products.forEach(function (product) {\n          if (!getters.brandNames.includes(product.brand_name) && product.size) {\n            commit('addProduct', {\n              brand_name: product.brand_name,\n              name: product.name,\n              id: product.gtin14,\n              remaining: 10,\n              price: Math.floor(_parseInt(product.size) * 5 / Math.random()) * 10\n            });\n          }\n        });\n      });\n    }\n  },\n  getters: {\n    brandNames: function brandNames(state) {\n      return state.products.map(function (product) {\n        return product.brand_name;\n      });\n    },\n    totalAmount: function totalAmount(state) {\n      var amount = 0;\n      state.cart.forEach(function (item) {\n        return amount += item.price * item.count;\n      });\n      return amount;\n    }\n  }\n});",{"version":3,"sources":["/home/harshit-pandey/Desktop/vuex-shopping/src/store.js"],"names":["Vue","Vuex","use","URI","Store","state","cart","products","mutations","addProduct","product","push","addToCart","itemIndex","findIndex","item","id","count","remaining","splice","indexOf","deductItemCount","productIndex","removeItem","clearCart","forEach","actions","fetchProducts","commit","getters","fetch","then","res","json","data","slice","brandNames","includes","brand_name","size","name","gtin14","price","Math","floor","random","map","totalAmount","amount"],"mappings":"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","sourcesContent":["import Vue from 'vue'\nimport Vuex from 'vuex'\n\nVue.use(Vuex)\nconst URI = 'https://c0rs.herokuapp.com/https://www.datakick.org/api/items'\n\nexport default new Vuex.Store({\n  state: {\n\tcart: [],\n\tproducts: []\n  },\n  mutations: {\n      addProduct({ products }, product) {\n          products.push(product)\n      },\n      addToCart({ cart, products }, product) {\n          const itemIndex = cart.findIndex(item => item.id === product.id)\n\n          if(itemIndex === -1) {\n              cart.push({ ...product, count: 1})\n          }\n          else {\n              cart[itemIndex].count++\n          }\n\n          product.remaining > 1\n          ? product.remaining --\n          :products.splice(products.indexOf(product), 1)\n      },\n      deductItemCount({ cart }, product) {\n          const itemIndex = cart.findIndex(item => item.id === product.id)\n          const productIndex = this.state.products.findIndex(item => item.id === product.id)\n          this.state.products[productIndex].remaining ++ ;\n          cart[itemIndex].count > 1\n          ? cart[itemIndex].count--\n          :cart.splice(itemIndex, 1)\n      },\n      removeItem({ cart }, product) {\n          const itemIndex = cart.findIndex(item => item.id === product.id)\n          const productIndex = this.state.products.findIndex(item => item.id === product.id)\n          this.state.products[productIndex].remaining = 10 ;\n          cart.splice(itemIndex, 1)\n      },\n      clearCart(state) {\n          state.products.forEach(product => {\n              product.remaining = 10\n          })\n          state.cart = []\n      }\n  },\n  actions: {\n      fetchProducts({ commit, getters}) {\n          fetch(URI)\n            .then(res => res.json())\n            .then(data => {\n                //Get the last 50 fetchProducts\n                const products = data.slice(50)\n\n                products.forEach(product => {\n                    if(\n                        !getters.brandNames.includes(product.brand_name) &&\n                        product.size\n                    ) {\n                        commit('addProduct', {\n                            brand_name: product.brand_name,\n                            name: product.name,\n                            id: product.gtin14,\n                            remaining: 10,\n                            price: Math.floor(parseInt(product.size) *5 / Math.random()) * 10\n                        })\n                    }\n                })\n            })\n      }\n  },\n  getters : {\n      brandNames: state => state.products.map(product => product.brand_name),\n\n      totalAmount: state => {\n          let amount = 0\n\n          state.cart.forEach(item => (amount+= item.price * item.count))\n\n          return amount\n      }\n  }\n})\n"]}]}